<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script type="text/javascript" src="practice10_module.js"></script>
    <!--html 내에서 script 태그로 작성 안해도 js 파일을 따로 만들어 반영 가능-->
</head>

<body>

    <script type="text/javascript">

        /*
        유효범위 : 변수의 수명

        var vscope = 'global';
        function fscope() {
            alert(vscope);
        }
        fscope();
        // result : global

        -

        var vscope = 'global';
        function fscope() {
            var vscope = 'local';
            alert(vscope);
        }
        fscope();
        // result : local

        -

        fscope : 지역변수 (local) : 함수의 중괄호 안쪽에서만 접근 가능
        vscope : 전역변수 (global) : java application 전역에서 접근 가능

        -

        var vscope = 'global';
        function fscope() {
            alert(vscope);
        }
        function fscope2() {
            alert(vscope);
        }
        fscope();
        fscope2();
        // result : global 두번 출력됨 
        
        -

        var vscope = 'global';
        function fscope() {
            var vscope = 'local';
        }
        fscope();
        alert(vscope);
        // result : global

        -> function 내 변수 앞에 var을 사용하게 되면 해당 var vscope은 로컬 변수가 됨

        -

        var vscope = 'global';
        function fscope() {
            vscope = 'local';
        }
        fscope();
        alert(vscope);
        // result : local

        -> function 내 변수 앞에 var을 사용하지 않는다면 로컬이 아닌 전역 변수가 되기 때문에 local이 최종적으로 나타나게 됨
        */

        /*
        지역 변수 **
        언제나 var 사용하는 것이 좋음.
        */

        /*
        function a () {
            var i = 0;
        }
        for (var i = 0; i < 5; i++) { //var i는 함수에 소속되어 있지 않으므로 i는 전역 변수가 된다.
            a();
            document.write(i);
        }
        -> 브라우저 무한 작동
        -> function a() 의 var i = 0;이라서 언제나 0으로 초기화가 되기 때문에
            i는 결코 5보다 커질 수 없으므로 브라우저가 무한 작동하게 됨.
        -> 코드의 이름을 중복하여 사용하였지만 각 코드가 말하고자 하는 의미가 다를 때 이런 문제점이 생기게 된다.
        */

        /*
        전역변수의 사용
        -> 불가피하게 전역변수 사용해야 하는 경우, 하나의 객체를 전역변수로 만들고
            객체의 속성으로 변수 관리해야 함

        var MYAPP = {} //MYAPP : 전역변수
        MYAPP.calculator = {
            'left' : null,
            'right' : null
        }
        MYAPP.coordinate = {
            'left' : null,
            'right' : null
        }

        MYAPP.calculator.left = 10;
        MYAPP.calculator.right = 20;
        function sum() {
            return MYAPP.calculator.left + MYAPP.calculator.right;
        }
        document.write(sum());
        //result : 30

        -

        전역변수를 사용하고 싶지 않을 때

        익명함수 (이름 없는 함수)

        (function() {
            var MYAPP = {} //MYAPP : function 안에 선언되었으므로 지역변수가 됨
        MYAPP.calculator = {
            'left' : null,
            'right' : null
        }
        MYAPP.coordinate = {
            'left' : null,
            'right' : null
        }

        MYAPP.calculator.left = 10;
        MYAPP.calculator.right = 20;
        function sum() {
            return MYAPP.calculator.left + MYAPP.calculator.right;
        }
        document.write(sum());
        }())
        //result : 30

        함수 이름 정의하고 싶을 때

        (function myappfn() {
            var MYAPP = {} //MYAPP : function 안에 선언되었으므로 지역변수가 됨
        MYAPP.calculator = {
            'left' : null,
            'right' : null
        }
        MYAPP.coordinate = {
            'left' : null,
            'right' : null
        }

        MYAPP.calculator.left = 10;
        MYAPP.calculator.right = 20;
        function sum() {
            return MYAPP.calculator.left + MYAPP.calculator.right;
        }
        document.write(sum());
        })
        myappfn();
        //result : 30
        */

        /*
        유효범위의 대상 (함수)
        -> 함수에 대한 유효범위만을 제공함 (java script)
        */

        /*
        정적 유효범위
        : 함수가 선언된 시점에서의 유효범위를 가짐 -> 정적 유효범위(static scoping) = 렉시컬(lexical scoping)
        
        var i = 5; //i : 전역변수

        function a() {
            var i = 0; //i : 지역변수
            b();
        }

        function b() {
            document.write(i); 
        }

        a();
        //result : 5
        -> 사용될 때 (x), 정의될 때 (o)
        */

        

    </script>

</body>

</html>